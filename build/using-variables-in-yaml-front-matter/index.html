<!doctype html> <html> <head> <meta charset=utf-8> <meta http-equiv=x-ua-compatible content="ie=edge"> <meta name=viewport content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta name=author content="Michael Elliott"/> <meta name=description content="elliotec | Mike Elliott, a software developer building projects and writing posts."/> w <title>elliotec | Mike Elliott - Using Variables in YAML Front Matter</title> <style>/*! sanitize.css v3.3.0 | CC0 1.0 Public Domain | github.com/10up/sanitize.css */button,input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button}button,hr{overflow:visible}h1,h2{margin:20px 0 16px}pre,textarea{overflow:auto}a,a:focus,a:hover{color:#2196f3}a:focus,a:hover,abbr[title],u{text-decoration:underline}img,select[multiple]{height:auto}hr,legend{width:100%}details,hr,legend,main,pre,summary,textarea{display:block}footer,img,textarea{max-width:100%}*,code{margin:0;padding:0}dl,hr,table{margin-bottom:16px}caption,fieldset,legend{padding:8px 0}legend,ol,textarea,tr,ul{margin-bottom:8px}pre,td,th{padding:16px}::after,::before,td,th{vertical-align:inherit}tfoot tr,thead th{text-align:left}abbr[title]{text-decoration:underline dotted}audio:not([controls]){display:none}b,strong{font-weight:bolder}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}button:-moz-focusring,input:-moz-focusring{outline:ButtonText dotted 1px}button,select{text-transform:none}html{-ms-overflow-style:-ms-autohiding-scrollbar;overflow-y:scroll;-webkit-text-size-adjust:100%}input{-webkit-border-radius:0}input[type=number]{width:auto}input[type=search]{-webkit-appearance:textfield}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}progress{display:inline-block}svg:not(:root){overflow:hidden}[hidden],template{display:none}*,::after,::before{box-sizing:inherit;border-style:solid;border-width:0}footer,hr{border-top:1px solid rgba(0,0,0,0.12)}*{font-size:inherit;line-height:inherit;background-repeat:no-repeat}::after,::before{text-decoration:inherit}button,input,select,textarea{font-family:inherit;font-style:inherit;font-weight:inherit;background-color:transparent;color:inherit}[tabindex],a,area,button,input,label,select,textarea{-ms-touch-action:manipulation;touch-action:manipulation}select::-ms-expand{display:none}select::-ms-value{color:currentColor}svg{fill:currentColor}[aria-busy=true]{cursor:progress}[aria-controls]{cursor:pointer}[aria-disabled]{cursor:default}[hidden][aria-hidden=false]{clip:rect(0 0 0 0);display:inherit;position:absolute}[hidden][aria-hidden=false]:focus{clip:auto}:root{background-color:#fff;box-sizing:border-box;color:#000;cursor:default;font:66.66667% sans-serif}h1,h2,h3{font-weight:500}a{text-decoration:none}audio,canvas,iframe,img,svg,video{vertical-align:middle}code,img,ol,ul{vertical-align:baseline}[type=button],[type=email],[type=month],[type=password],[type=tel],[type=text],[type=time],[type=url],[type=week],[type=reset],[type=submit],[type=number],[type=search],[type=date],[type=datetime],[type=datetime-local],button,select,textarea{min-height:1.5em}code,kbd,pre,samp{font-family:monospace,monospace}nav ol,nav ul{list-style:none}small{font-size:75%;color:rgba(0,0,0,0.54);vertical-align:bottom}::-moz-selection{background-color:#b3d4fc;color:#fff;text-shadow:none}::selection{background-color:#b3d4fc;color:#fff;text-shadow:none}article,aside,details,footer,header,main,section,summary{margin:0 auto 16px;width:100%}main{margin:0 auto;max-width:768px;padding:0 16px 16px}footer{clear:both;display:inline-block;float:left;padding:16px 0;text-align:center}footer p{margin-bottom:0}@media screen and (max-width: 400px){article,aside,section{clear:both;display:block;max-width:100%}}body{color:rgba(0,0,0,0.8);font-family:"Helvetica Neue",Helvetica,"Lucida Grande",sans-serif;font-size:16px;line-height:1.4}p{margin:0 0 16px}h1,h2,h3,h4,h5,h6{color:inherit;font-family:inherit;line-height:inherit}h1{border-bottom:1px solid rgba(0,0,0,0.12);font-size:36px}h2{font-size:30px}h3{font-size:24px;margin:16px 0 4px}h4,h5,h6{font-weight:600;margin:16px 0 4px}h4{font-size:18px}h5{font-size:16px}h6{color:rgba(0,0,0,0.54);font-size:14px}code,pre{font-family:Menlo,Monaco,Consolas,"Courier New",monospace;font-size:16px;color:rgba(0,0,0,0.8)}pre{background:#efefef;margin:16px 0;white-space:pre-wrap}code{line-height:inherit;word-break:break-all;word-wrap:break-word}blockquote,figcaption{font-family:Georgia,Times,"Times New Roman",serif}sub,sup{font-size:14px}dd{margin-left:40px}ol,ul{padding-left:40px}blockquote{border-left:2px solid #2196f3;font-style:italic;margin:16px 0;padding-left:16px}s{text-decoration:line-through}sup{vertical-align:super}sub{vertical-align:sub}mark{background:#ffeb3b}input[type=email],input[type=month],input[type=password],input[type=tel],input[type=text],input[type=time],input[type=url],input[type=week],input[type=number],input[type=search],input[type=date],input[type=datetime],input[type=datetime-local],select{background:#fff;border:1px solid rgba(0,0,0,0.12);border-radius:4px;color:rgba(0,0,0,0.8);display:inline-block;padding:4px;vertical-align:middle}input[type=color]{background:#fff;border:1px solid rgba(0,0,0,0.12);border-radius:4px;display:inline-block;vertical-align:middle}input:not([type]){-webkit-appearance:none;background-clip:padding-box;border:1px solid rgba(0,0,0,0.12);border-radius:4px;display:inline-block;padding:8px;text-align:left}select,textarea{border:1px solid rgba(0,0,0,0.12)}input[type=email]:focus,input[type=month]:focus,input[type=password]:focus,input[type=tel]:focus,input[type=text]:focus,input[type=time]:focus,input[type=url]:focus,input[type=week]:focus,input[type=color]:focus,input[type=number]:focus,input[type=search]:focus,input[type=date]:focus,input[type=datetime]:focus,input[type=datetime-local]:focus,select:focus,textarea:focus{border-color:#2196f3}input:not([type]):focus{border-color:#2196f3}input[type=file]:focus,input[type=radio]:focus,input[type=checkbox]:focus{outline:thin 1px}input[type=email][disabled],input[type=month][disabled],input[type=password][disabled],input[type=tel][disabled],input[type=text][disabled],input[type=time][disabled],input[type=url][disabled],input[type=week][disabled],input[type=color][disabled],input[type=number][disabled],input[type=search][disabled],input[type=date][disabled],input[type=datetime][disabled],input[type=datetime-local][disabled],select[disabled],textarea[disabled]{background-color:rgba(0,0,0,0.12);color:rgba(0,0,0,0.54);cursor:not-allowed}input:not([type])[disabled]{background-color:rgba(0,0,0,0.12);color:rgba(0,0,0,0.54);cursor:not-allowed}input[readonly],select[readonly],textarea[readonly]{border-color:rgba(0,0,0,0.12);color:rgba(0,0,0,0.54)}input:focus:invalid,select:focus:invalid,textarea:focus:invalid{border-color:#ea1c0d;color:#f44336}input[type=file]:focus:invalid:focus,input[type=radio]:focus:invalid:focus,input[type=checkbox]:focus:invalid:focus{outline-color:#f44336}select{-moz-appearance:none;-webkit-appearance:menulist-button;vertical-align:sub}label{line-height:2}fieldset{border:0;margin:0}legend{border-bottom:1px solid rgba(0,0,0,0.12);color:rgba(0,0,0,0.8)}textarea{resize:vertical;background:#fff;border-radius:4px;padding:8px;vertical-align:middle}button,input[type=reset],input[type=submit]{background:#2196f3;border:1px solid rgba(0,0,0,0.12);border-radius:4px;color:#fff;cursor:pointer;display:inline-block;margin:0;padding:8px 16px;text-align:center;vertical-align:middle;white-space:nowrap}button::-moz-focus-inner,input[type=reset]::-moz-focus-inner,input[type=submit]::-moz-focus-inner{padding:0}button:hover,input[type=reset]:hover,input[type=submit]:hover{background:#0c7cd5;border-color:1px solid rgba(0,0,0,0.54)}button:active,input[type=reset]:active,input[type=submit]:active{background:#0c7cd5;border-color:1px solid rgba(0,0,0,0.54);box-shadow:inset 0 0 4px 0 rgba(0,0,0,0.2);outline-offset:-2px}button:focus,input[type=reset]:focus,input[type=submit]:focus{background:#0c7cd5;border-color:1px solid rgba(0,0,0,0.54);box-shadow:inset 0 0 4px 0 rgba(0,0,0,0.2);outline:0}button:disabled,input[type=submit]:disabled{background:rgba(0,0,0,0.12);color:rgba(0,0,0,0.38);cursor:not-allowed}table{border-collapse:collapse;border-spacing:0;border-top:1px solid rgba(0,0,0,0.12)}thead th{border:0;border-bottom:2px solid rgba(0,0,0,0.12)}td,th{border-bottom:1px solid rgba(0,0,0,0.12)}tfoot td{color:rgba(0,0,0,0.54);font-size:8px;font-style:italic;padding:16px 4px}
</style> <style>.highlight table td{padding:5px}.highlight table pre{margin:0}.highlight .c,.highlight .cd{color:#75715e;font-style:italic}.highlight .cm{color:#75715e;font-style:italic}.highlight .c1{color:#75715e;font-style:italic}.highlight .cp{color:#75715e;font-weight:bold}.highlight .cs{color:#75715e;font-weight:bold;font-style:italic}.highlight .err{color:#960050;background-color:#1e0010}.highlight .gi{color:#ffffff;background-color:#324932}.highlight .gd{color:#ffffff;background-color:#493131}.highlight .ge{color:#000000;font-style:italic}.highlight .gr{color:#aa0000}.highlight .gt{color:#aa0000}.highlight .gh{color:#999999}.highlight .go{color:#888888}.highlight .gp{color:#555555}.highlight .gs{font-weight:bold}.highlight .gu{color:#aaaaaa}.highlight .k,.highlight .kv{color:#66d9ef;font-weight:bold}.highlight .kc{color:#66d9ef;font-weight:bold}.highlight .kd{color:#66d9ef;font-weight:bold}.highlight .kp{color:#66d9ef;font-weight:bold}.highlight .kr{color:#66d9ef;font-weight:bold}.highlight .kt{color:#66d9ef;font-weight:bold}.highlight .kn{color:#f92672;font-weight:bold}.highlight .ow{color:#f92672;font-weight:bold}.highlight .o{color:#f92672;font-weight:bold}.highlight .mf{color:#ae81ff}.highlight .mh{color:#ae81ff}.highlight .il{color:#ae81ff}.highlight .mi{color:#ae81ff}.highlight .mo{color:#ae81ff}.highlight .m,.highlight .mb,.highlight .mx{color:#ae81ff}.highlight .se{color:#ae81ff}.highlight .sb{color:#e6db74}.highlight .sc{color:#e6db74}.highlight .sd{color:#e6db74}.highlight .s2{color:#e6db74}.highlight .sh{color:#e6db74}.highlight .si{color:#e6db74}.highlight .sx{color:#e6db74}.highlight .sr{color:#e6db74}.highlight .s1{color:#e6db74}.highlight .ss{color:#e6db74}.highlight .s{color:#e6db74}.highlight .na{color:#a6e22e}.highlight .nc{color:#a6e22e;font-weight:bold}.highlight .nd{color:#a6e22e;font-weight:bold}.highlight .ne{color:#a6e22e;font-weight:bold}.highlight .nf{color:#a6e22e;font-weight:bold}.highlight .no{color:#66d9ef}.highlight .bp{color:#f8f8f2}.highlight .nb{color:#f8f8f2}.highlight .ni{color:#f8f8f2}.highlight .nn{color:#f8f8f2}.highlight .vc{color:#f8f8f2}.highlight .vg{color:#f8f8f2}.highlight .vi{color:#f8f8f2}.highlight .nv{color:#f8f8f2}.highlight .w{color:#f8f8f2}.highlight .nl{color:#f8f8f2;font-weight:bold}.highlight .nt{color:#f92672}.highlight{color:#f8f8f2;background-color:#49483e}</style> <style>body{color:#333;font-family:"Helvetica Neue", "Helvetica", "Oxygen", "Ubuntu", sans-serif}header{height:40px;background-color:#333;text-align:center;width:100%;z-index:999;position:fixed;top:0;line-height:1.5}header a{color:#27ae60;display:inline-block;font-size:22px;padding-top:4px;text-decoration:none}header a:hover{text-decoration:none;color:#27ae60}.copyright{text-align:center;margin:25px;font-size:10px}.home{border-bottom:solid 1px #DDD;margin-top:70px;text-align:center;padding-bottom:50px}.home .headshot{border-radius:50%}.home .intro{font-size:18px}.home h1{border:none;font-size:42px}.home .contact{padding:10px;display:flex;flex-direction:row;justify-content:center;font-size:20px}@media (max-width: 500px){.home .contact{flex-wrap:wrap}.home .contact .contact-link{width:50%}}.home .contact-link{line-height:1;padding:7px;margin:10px;color:#2ecc71;border-radius:5px;border:1px solid #2ecc71}.home .contact-link:hover,.home .contact-link:focus{border-color:#27ae60;color:#1e8449;text-decoration:none}.posts{text-align:center;margin-bottom:30px}.posts h2{padding:30px}.posts ul{padding:0}.posts ul li{list-style-type:none;font-size:18px}.posts ul li a{color:#1e8449}.posts ul li a:hover{color:#2ecc71;text-decoration:none}.posts ul p{font-size:12px}.post{margin-top:50px;margin-bottom:30px;line-height:1.7}.post a{color:#27ae60}.post a:hover{color:#2ecc71;text-decoration:none}.post pre,.post code{padding:10px;border-radius:10%;font-family:"Lucida Console", Monaco, monospace, "AdamicBee";color:white}.post blockquote{border-left:2px solid #DDD;color:#595959}.post iframe{margin-top:20px;width:100%;height:500px}.post article{font-size:18px}.post article .date{font-size:14px}
</style> </head> <body> <header> <a href="/">{ elliotec }</a> </header> <main class=post> <article> <h1>Using Variables in YAML Front Matter</h1> <p class=date>May 30, 2014 <h2>What is Front Matter?</h2> <p>I didn&rsquo;t know this until just now, but <a href="http://en.wikipedia.org/wiki/Book_design#Front_matter">the name comes from book design</a>, where the front matter is just all the stuff before the actual body of the book. This includes the table of contents, title pages, copyright info, etc. It&rsquo;s essentially all the metadata of the book.</p> <p>Likewise, the YAML front matter common in static-site generators like Middleman is the metadata of the current page. In my case that usually ends up being post pages where some of the dynamic data is defined:</p> <div class=highlight><pre class="highlight yaml"><code><span class="nn">---</span>
<span class="na">layout</span><span class="pi">:</span> <span class="s">post</span>
<span class="na">title</span><span class="pi">:</span> <span class="s">Using Variables in YAML Front Matter</span>
<span class="na">date</span><span class="pi">:</span> <span class="s">2014-05-30 09:08</span>
<span class="na">tags</span><span class="pi">:</span> <span class="s">yaml, middleman</span>
<span class="nn">---</span>
</code></pre></div> <p>This makes it super easy to have various HTML layouts that you can assign to any page on your site. It also gives us the date and title options which are useful for the index, file structure, and other obvious benefits. </p> <h2>Setting Custom Variables</h2> <p>I have 4 social media icon SVGs on my portfolio/main index page, and I&rsquo;m currently using each of them twice - one for the contact drop-down menu, and another for the contact section at the bottom. </p> <p>As you can imagine, that clunked up the HTML pretty bad and it was immediately a giant pain to try and find or move anything. I wanted to DRY it up, and I knew that I could do that with Middleman. </p> <p>It only took 3 steps.</p> <p>1) The first thing I did was list each of the icons by name in the front matter:</p> <div class=highlight><pre class="highlight yaml"><code><span class="nn">---</span>
<span class="na">github</span><span class="pi">:</span> 

<span class="na">linkedin</span><span class="pi">:</span>

<span class="na">twitter</span><span class="pi">:</span>

<span class="na">email</span><span class="pi">:</span>
<span class="nn">---</span>
</code></pre></div> <p>2) Then I added the cumbersome svg codes to set the variables for each:</p> <div class=highlight><pre class="highlight yaml"><code><span class="nn">---</span>
<span class="na">github</span><span class="pi">:</span> <span class="s">&lt;svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"</span>
                <span class="s">width="22" height="20" viewBox="0 0 99.441 99.44" enable-background="new 0 0 99.441 99.44" xml:space="preserve"&gt;&lt;path id="github" fill="#fff" d="M64.507,95.749c-2.439,0.474-3.303-1.026-3.303-2.307c0-1.584,0.053-6.763,0.053-13.197</span>
                <span class="s">c0-4.486-1.535-7.412-3.259-8.905c10.707-1.189,21.958-5.257,21.958-23.727c0-5.25-1.867-9.541-4.949-12.908</span>
                <span class="s">c0.499-1.211,2.145-6.101-0.473-12.726c0,0-4.034-1.292-13.211,4.931c-3.844-1.065-7.96-1.601-12.047-1.619</span>
                <span class="s">c-4.088,0.018-8.201,0.554-12.036,1.619c-9.189-6.222-13.228-4.931-13.228-4.931c-2.611,6.625-0.966,11.515-0.465,12.726</span>
                <span class="s">c-3.079,3.368-4.957,7.658-4.957,12.908c0,18.428,11.228,22.55,21.91,23.767c-1.374,1.199-2.62,3.32-3.054,6.428</span>
                <span class="s">c-2.745,1.23-9.705,3.356-13.993-3.996c0,0-2.543-4.615-7.373-4.956c0,0-4.69-0.061-0.329,2.923c0,0,3.152,1.479,5.339,7.036</span>
                <span class="s">c0,0,2.824,8.585,16.202,5.675c0.02,4.019,0.065,7.808,0.065,8.953c0,1.27-0.881,2.758-3.286,2.312</span>
                <span class="s">C14.968,89.396,1.188,71.37,1.188,50.125c0-26.56,21.533-48.089,48.089-48.089c26.558,0,48.088,21.529,48.088,48.089</span>
              <span class="s">C97.364,71.366,83.604,89.382,64.507,95.749z"/&gt;&lt;/svg&gt;</span>
<span class="na">linkedin</span><span class="pi">:</span> <span class="s">&lt;svg&gt; ...</span>
<span class="nn">---</span>
</code></pre></div> <p>3) After that it was simply a matter of calling &ldquo;current_page.data&rdquo; and passing the custom variable in its place in Erb:</p> <div class=highlight><pre class="highlight erb"><code><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"http://github.com/elliotec"</span><span class="nt">&gt;</span><span class="cp">&lt;%=</span> <span class="n">current_page</span><span class="p">.</span><span class="nf">data</span><span class="p">.</span><span class="nf">github</span> <span class="cp">%&gt;</span>Github<span class="nt">&lt;/a&gt;</span>
</code></pre></div> <p>Now the code base is much more DRY and modular, and the generated HTML is producing the expected behavior. </p> <p>You can do this in Jekyll too, but there are a few differences (basically just step 3) so <a href="http://jekyllrb.com/docs/frontmatter/">check out their docs if thats what you&rsquo;re into</a>. </p> <p>For more info on the Middleman front matter, <a href="http://middlemanapp.com/basics/frontmatter/">see the relavent section in the Middleman docs</a>.</p> <p>&ndash; Mike</p> </article> </main> <p class=copyright>&copy; Elliotec Software LLC</p> <a href="https://plus.google.com/+MichaelElliott-elliotec?rel=author"></a> <a href="https://plus.google.com/100799948688623726078?rel=publisher"></a> <script>
            if(navigator.userAgent.indexOf("Speed Insights") == -1) {
                  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
                  ga('create', 'UA-46276194-3', 'elliotec.com');ga('send', 'pageview');}
        </script> </body> </html>